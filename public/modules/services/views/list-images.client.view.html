<div flex layout="row" layout-align="end center">
    <md-button class="md-raised" aria-label="Add an Image" ng-click="addImage()">
        <i class="fa fa-plus-square"></i> Add an image
    </md-button>
</div>

<table class="table table-striped">
    <thead>
    <tr>
        <th></th>
        <th>Name</th>
        <th>Parameters</th>
        <th>Ports Mapping</th>
        <th>Variables Mapping</th>
        <th>Volumes Mapping</th>
    </tr>
    </thead>
    <tbody>
    <tr data-ng-repeat="image in service.images">
        <td style="width: 30px;">
            <div>
                <md-button aria-label="Delete Image" ng-click="askDeleteImage=true" ng-hide="askDeleteImage">
                    <i class="fa fa-trash-o" title="Delete Image"></i>
                </md-button>
                <md-button aria-label="Don't Delete" ng-click="askDeleteImage=false" ng-show="askDeleteImage"
                           class="md-raised md-accent md-hue-1">
                    No, I don't want to delete this. <i class="fa fa-reply"></i>
                </md-button>
                <md-button aria-label="Confirm Delete" data-ng-click="removeImage(image);" ng-show="askDeleteImage"
                           class="md-raised md-warn">
                    Yes, I confirm <i class="fa fa-exclamation-triangle"></i>
                </md-button>

                <md-button aria-label="Duplicate Image" ng-click="duplicateImage(image)">
                    <i class="fa fa-copy" title="Duplicate Image"></i>
                </md-button>
            </div>
        </td>
        <td>
            <div class="row">
                <md-input-container>
                    <label>Image Name</label>
                    <input class="long" ng-model="image.name" type="text" required="true">
                </md-input-container>
            </div>
            <md-switch ng-model="image.active" aria-label="Image is active ?">
                Active : <span ng-if="image.active">On</span>
                <span ng-if="!image.active">Off</span>
            </md-switch>
        </td>
        <td>
            <ul data-ng-repeat="parameter in image.parameters">
                <li>{{parameter.name}}:{{parameter.value}}
                    <small><i>{{parameter.description}}</i></small>
                    <md-button ng-click="askDeleteParameter=true" ng-hide="askDeleteParameter">
                        <i class="fa fa-trash-o" tooltip="Delete Parameter"
                           tooltip-popup-delay='750'></i>
                    </md-button>
                    <md-button ng-click="askDeleteParameter=false" ng-show="askDeleteParameter"
                               class="md-raised md-accent md-hue-1">
                        No, I don't want to delete this. <i class="fa fa-reply"></i>
                    </md-button>
                    <md-button data-ng-click="removeParameter(image, parameter);" ng-show="askDeleteParameter"
                               class="md-raised md-warn">
                        Yes, I confirm <i class="fa fa-exclamation-triangle"></i>
                    </md-button>
                </li>
            </ul>

            <md-button aria-label="Add parameter" ng-hide="displayFormParameter"
                       ng-click="displayFormParameter=!displayFormParameter">
                <i class="fa fa-plus-square"></i>
            </md-button>

            <form ng-show="displayFormParameter" name="parameterForm" id="parameterForm" novalidate autocomplete="off">
                <md-input-container>
                    <label>Name</label>
                    <input ng-model="parameter.name" type="text" ng-required="true">
                </md-input-container>
                <md-input-container>
                    <label>Default Value</label>
                    <input ng-model="parameter.value" type="text">
                </md-input-container>
                <md-input-container>
                    <label>Description</label>
                    <input ng-model="parameter.description" type="text">
                </md-input-container>
                <md-button ng-disabled="parameterForm.$invalid" class="md-raised md-primary"
                           data-ng-click="addParameter(image); displayFormParameter=false">
                    Insert Parameter
                </md-button>
            </form>
        </td>
        <td>
            <ul data-ng-repeat="port in image.ports">
                <li>-p :{{port.internal}}/{{port.protocol}}
                    <small><i>{{port.description}}</i></small>
                    <md-button aria-label="Delete Port" ng-click="askDeletePort=true" ng-hide="askDeletePort">
                        <i class="fa fa-trash-o" title="Delete Port"></i>
                    </md-button>
                    <md-button aria-label="Don't delete port" ng-click="askDeletePort=false" ng-show="askDeletePort"
                               class="md-raised md-accent md-hue-1">
                        No, I don't want to delete this. <i class="fa fa-reply"></i>
                    </md-button>
                    <md-button aria-label="Confirm delete port" data-ng-click="removePort(image, port);"
                               ng-show="askDeletePort" class="md-raised md-warn">
                        Yes, I confirm <i class="fa fa-exclamation-triangle"></i>
                    </md-button>
                </li>
            </ul>

            <md-button aria-label="Add a Port" ng-hide="displayFormPort" ng-click="displayFormPort=!displayFormPort">
                <i class="fa fa-plus-square"></i>
            </md-button>

            <form ng-show="displayFormPort" name="portForm" id="portForm" novalidate autocomplete="off">
                <md-input-container>
                    <label>Internal Port</label>
                    <input ng-model="port.internal" type="number" ng-required="true">
                </md-input-container>
                <md-radio-group ng-model="port.protocol" ng-required="true">
                    <md-radio-button value="tcp">tcp</md-radio-button>
                    <md-radio-button value="udp">udp</md-radio-button>
                </md-radio-group>
                <md-input-container>
                    <label>Description</label>
                    <input ng-model="port.description" type="text">
                </md-input-container>

                <md-button aria-label="Insert Port" ng-disabled="portForm.$invalid"
                           data-ng-click="addPort(image); displayFormPort=false" class="md-raised md-primary">
                    Insert Port
                </md-button>

            </form>
        </td>
        <td>
            <ul data-ng-repeat="variable in image.variables">
                <li>-e {{variable.name}}:{{variable.value}}
                    <small><i>{{variable.description}}</i></small>
                    <md-button aria-label="Delete a Variable" ng-click="askDeleteVariable=true"
                               ng-hide="askDeleteVariable">
                        <i class="fa fa-trash-o" title="Delete Variable"></i>
                    </md-button>
                    <md-button aria-label="Don't delete variable" ng-click="askDeleteVariable=false"
                               ng-show="askDeleteVariable" class="md-raised md-accent md-hue-1">
                        No, I don't want to delete this. <i class="fa fa-reply"></i>
                    </md-button>
                    <md-button aria-label="Confirm delete variable" data-ng-click="removeVariable(image, variable);"
                               ng-show="askDeleteVariable" class="md-raised md-warn">
                        Yes, I confirm <i class="fa fa-exclamation-triangle"></i>
                    </md-button>
                </li>
            </ul>

            <md-button aria-label="Add a variable" ng-hide="displayFormVariable"
                       ng-click="displayFormVariable=!displayFormVariable">
                <i class="fa fa-plus-square"></i>
            </md-button>

            <form ng-show="displayFormVariable" name="variableForm" id="variableForm" novalidate autocomplete="off">
                <md-input-container>
                    <label>Name</label>
                    <input ng-model="variable.name" type="text" ng-required="true">
                </md-input-container>
                <md-input-container>
                    <label>Default Value</label>
                    <input ng-model="variable.value" type="text">
                </md-input-container>
                <md-input-container>
                    <label>Description</label>
                    <input ng-model="variable.description" type="text">
                </md-input-container>

                <md-button ng-disabled="variableForm.$invalid"
                           data-ng-click="addVariable(image); displayFormVariable=false"
                           class="md-raised md-primary">
                    Insert Variable
                </md-button>

            </form>
        </td>
        <td>
            <ul data-ng-repeat="volume in image.volumes">
                <li>-v {{volume.value}}:{{volume.internal}}<span
                        ng-if="volume.rights.length > 0">:{{volume.rights}}</span>
                    <small><i>{{volume.description}}</i></small>
                    <md-button aria-label="Ask Delete Volume" ng-click="askDeleteVolume=true" ng-hide="askDeleteVolume">
                        <i class="fa fa-trash-o" tooltip="Delete Volume"
                           tooltip-popup-delay='750'></i>
                    </md-button>
                    <md-button aria-label="Don't delete volume" ng-click="askDeleteVolume=false"
                               ng-show="askDeleteVolume" class="md-raised md-accent md-hue-1">
                        No, I don't want to delete this. <i class="fa fa-reply"></i>
                    </md-button>
                    <md-button aria-label="Confirm delete volume" data-ng-click="removeVolume(image, volume);"
                               ng-show="askDeleteVolume" class="md-raised md-warn">
                        Yes, I confirm <i class="fa fa-exclamation-triangle"></i>
                    </md-button>
                </li>
            </ul>

            <md-button aria-label="Add a volume" ng-hide="displayFormVolume"
                       ng-click="displayFormVolume=!displayFormVolume">
                <i class="fa fa-plus-square"></i>
            </md-button>

            <form ng-show="displayFormVolume" name="volumeForm" id="volumeForm" novalidate autocomplete="off">
                <md-input-container>
                    <label>Internal Volume</label>
                    <input ng-model="volume.internal" type="text" ng-required="true">
                </md-input-container>
                <md-input-container>
                    <label>Default Value</label>
                    <input ng-model="volume.value" type="text">
                </md-input-container>
                <md-radio-group ng-model="volume.rights" ng-required="true" ng-required="true">
                    <md-radio-button value="rw">Read-Write</md-radio-button>
                    <md-radio-button value="ro">Read Only</md-radio-button>
                </md-radio-group>
                <md-input-container>
                    <label>Description</label>
                    <input ng-model="volume.description" type="text">
                </md-input-container>

                <md-button ng-disabled="volumeForm.$invalid"
                           data-ng-click="addVolume(image); displayFormVolume=false"
                           class="md-raised md-primary">
                    Insert Volume
                </md-button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
