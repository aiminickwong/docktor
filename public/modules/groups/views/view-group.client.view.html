<section data-ng-controller="GroupsController" data-ng-init="findOne()">
    <div class="page-header">
        <h1 data-ng-bind="group.title"></h1>
        <small>
            <p data-ng-bind="group.description"></p>
            <em class="text-muted">
                Created on
                <span data-ng-bind="group.created | date:'mediumDate'"></span>
                by
                <span data-ng-bind="group.user.displayName"></span>
            </em>
        </small>
    </div>

    <h4>Services</h4>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Image</th>
            <th>Id</th>
            <th>Daemon</th>
            <th>Volumes</th>
            <th>Ports</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="container in group.containers">
            <td>
                {{container.name}}
            </td>
            <td>
                {{container.image}}
            </td>
            <td>
                {{container.containerId | limitTo:12}}
            </td>
            <td>
                {{container.daemon.protocol}}://{{container.daemon.host}}:{{container.daemon.port}}
            </td>
            <td>
                <span ng-repeat="volume in container.volumes">
                    -v {{volume.internal}}:{{volume.external}}
                </span>
            </td>
            <td>
                <span ng-repeat="port in container.ports">
                    -v {{port.internal}}:{{port.external}}
                </span>
            </td>
            <td></td>
            <td>
                <button class="btn btn-default" ng-click="createContainer(container)"><i class="fa fa-cogs"></i> Create</button>
                <button class="btn btn-default" ng-click="startContainer(container)"><i class="fa fa-play"></i> Start</button>
                <button class="btn btn-default" ng-click="stopContainer(container)"><i class="fa fa-stop"></i> Stop</button>
                <button class="btn btn-default" ng-click="pauseContainer(container)"><i class="fa fa-pause"></i> Pause</button>
                <button class="btn btn-default" ng-click="unpauseContainer(container)"><i class="fa fa-pause"></i> Unpause</button>
                <button class="btn btn-default" ng-click="removeContainer(container)"><i class="fa fa-trash"></i> Remove</button>
                <button class="btn btn-default" ng-click="killContainer(container)"><i class="fa fa-trash"></i> Kill</button>
            </td>
        </tr>
        </tbody>
    </table>

    <div data-ng-show="authentication.user._id == group.user._id">
        <a class="btn btn-success" href="/#!/groups/{{group._id}}/deploy/service">
            <i class="fa fa-plus"> Deploy a service</i>
        </a>
        <a class="btn btn-default" href="/#!/groups/{{group._id}}/edit">
            <i class="fa fa-edit"> Edit this group</i>
        </a>
        <a class="btn btn-warning" data-ng-click="remove();">
            <i class="fa fa-trash"> Delete this group</i>
        </a>
    </div>

</section>